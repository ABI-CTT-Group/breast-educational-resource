(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{528:function(e,n,t){var content=t(534);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,t(30).default)("01fc15c6",content,!0,{sourceMap:!1})},530:function(e,n,t){"use strict";t.r(n);t(59),t(71),t(25),t(37),t(62);var r={data:function(){return{modelControl:"MRI",Copper:null,THREE:null,baseRenderer:null,baseContainer:null,nrrdMaxIndex:-1,nrrdSliceZ:null,nrrdMeshes:null,modelData:null,modelToScenes:{},modelName:null,mouseActions:null,modelUrlsArray:{normal:["modelView/density-1/right/mri.nrrd","modelView/density-1/right/mri_view.json"],density_2:["modelView/density-2/right/mri.nrrd","modelView/density-2/right/mri_view.json"],density_3:["modelView/density-3/right/mri.nrrd","modelView/density-3/right/mri_view.json"],density_4:["modelView/density-4/right/mri.nrrd","modelView/density-4/right/mri_view.json"]}}},mounted:function(){var e=this;this.Copper=this.$Copper(),this.THREE=this.$three(),this.raycaster=this.$raycaster(),this.modelToScenes=this.$modelToScenes(),this.baseRenderer=this.$baseRightRenderer(),this.baseContainer=this.$baseRightContainer(),this.modelData=this.$modelData(),this.container=this.$refs.rightContainer,this.container.appendChild(this.baseContainer),this.modelName=this.$model().name,["cyst","fibroadenoma","calcifications","fat_necrosis","dcis","lobular","ductal"].includes(this.modelName)&&(this.modelName="normal"),this.start(),window.addEventListener("resize",(function(){setTimeout((function(){e.scene&&e.scene.onWindowResize()}),500)}))},methods:{start:function(){this.loadNrrd(this.modelUrlsArray[this.modelName][0],this.modelName+"right_mri")},loadNrrd:function(e,n){var t=this,r=this.modelUrlsArray[this.modelName][1],o=this.Copper.loading("loading/loading.svg");this.scene=this.baseRenderer.getSceneByName(n),void 0===this.scene?(this.scene=this.baseRenderer.createScene(n),this.scene.controls.panSpeed=.5,this.baseRenderer.setCurrentScene(this.scene),this.scene.loadNrrd(e,o,!0,(function(e,n,r,o){t.nrrdMeshes=n,t.scene.addObject(n.z);var d=e.header.space_origin.map((function(e){return Number(e)})),l=e.RASDimensions,c=-(2*d[0]+l[0])/2,h=-(2*d[1]+l[1])/2,m=-(2*d[2]+l[2])/2;t.nrrdMaxIndex=r.z.MaxIndex,t.nrrdSliceZ=r.z,t.nrrdBias=new t.THREE.Vector3(c,h,m),t.modelUrlsArray[t.modelName].length>2&&t.loadModel(t.modelUrlsArray[t.modelName][2]);var data={nrrdSliceZ:t.nrrdSliceZ,nrrdMesh:t.nrrdMeshes.z,nrrdMaxIndex:t.nrrdMaxIndex};void 0===t.modelData[t.modelName]&&(t.modelData[t.modelName]={}),t.modelData[t.modelName].right=data,t.addContainerListener(),t.scene.onWindowResize()}),{openGui:!1}),this.scene.loadViewUrl(r),this.scene.updateBackground("#f8cdd6","#f8cdd6"),this.Copper.setHDRFilePath("environment/venice_sunset_1k.hdr"),this.baseRenderer.updateEnvironment(),this.modelToScenes[n]=this.scene):(this.baseRenderer.setCurrentScene(this.scene),this.addContainerListener()),this.scene.onWindowResize()},loadModel:function(e){var n=this;this.scene.loadOBJ(e,(function(content){var e=(new n.THREE.Box3).setFromObject(content);e.getSize(new n.THREE.Vector3).length(),e.getCenter(new n.THREE.Vector3);content.position.set(n.nrrdBias.x,n.nrrdBias.y,n.nrrdBias.z),content.renderOrder=3,content.traverse((function(e){e.isMesh&&(e.material=new n.THREE.MeshPhysicalMaterial({side:n.THREE.DoubleSide,transparent:!0,opacity:.4,color:"#a3932a",wireframe:!1}))}))})),this.scene.onWindowResize()},addContainerListener:function(){var data=this.modelData[this.modelName].right;null===this.mouseActions&&(this.mouseActions=this.raycaster(this.scene,this.container,data.nrrdSliceZ,data.nrrdMesh,data.nrrdMaxIndex)),this.container.addEventListener("mousemove",this.mouseActions.mouseMove)},removeContainerListener:function(){null!==this.mouseActions&&(this.container.removeEventListener("mousemove",this.mouseActions.mouseMove),this.container.removeEventListener("mousedown",this.mouseActions.mouseDown),this.container.removeEventListener("mouseup",this.mouseActions.mouseUp))}},beforeDestroy:function(){this.removeContainerListener()}},o=(t(533),t(34)),component=Object(o.a)(r,(function(){var e=this,n=e._self._c;return n("div",{staticClass:"w-full h-1/2"},[n("span",{staticClass:"font-bold",staticStyle:{color:"rgb(244, 55, 149)"}},[e._v("\n    "+e._s(e.modelControl)+"\n  ")]),e._v(" "),n("div",{ref:"rightContainer",staticClass:"w-full h-full"})])}),[],!1,null,"3462b723",null);n.default=component.exports},533:function(e,n,t){"use strict";t(528)},534:function(e,n,t){var r=t(29)((function(i){return i[1]}));r.push([e.i,"@import url(https://fonts.googleapis.com/css2?family=Inria+Sans:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap);"]),r.push([e.i,".model-control[data-v-3462b723]{padding-top:80px}.model-control span[data-v-3462b723]{color:#f43795;font-size:1rem;font-weight:700}.model-control .mri[data-v-3462b723]{height:500px;padding:0;width:500px}",""]),r.locals={},e.exports=r}}]);